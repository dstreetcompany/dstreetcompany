<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DStreet Raspadinha</title>
  <style>
    body {
      background-color: #000;
      color: white;
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 0;
      padding: 0;
    }
    h1 {
      color: yellow;
      text-shadow: 0 0 10px yellow;
      margin-top: 20px;
    }
    h2 {
      color: cyan;
      margin-top: 5px;
    }
    #paymentButtons button {
      background-color: yellow;
      color: black;
      border: none;
      padding: 15px 20px;
      margin: 10px;
      font-size: 18px;
      cursor: pointer;
      border-radius: 8px;
    }
    #paymentCode {
      margin-top: 20px;
      color: lightgreen;
      font-size: 18px;
    }
    #scratchScreen, #paymentScreen {
      display: none;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(3, 100px);
      gap: 10px;
      justify-content: center;
      margin: 20px auto;
    }
    .cell {
      background: white;
      width: 100px;
      height: 100px;
      font-size: 40px;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
    }
    #result {
      font-size: 20px;
      color: lime;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div id="homeScreen">
    <h1>DSTREET COMPANY</h1>
    <h2>ACHE 3 FIGURAS IGUAIS E GANHE O PR√äMIO!</h2>
    <p id="chances">Chances restantes: 0</p>
    <div id="paymentButtons">
      <button onclick="handlePaymentClick(5, 1)">Pagar R$5,00 (1 chance)</button>
      <button onclick="handlePaymentClick(10, 3)">Pagar R$10,00 (3 chances)</button>
      <button onclick="handlePaymentClick(20, 6)">Pagar R$20,00 (6 chances)</button>
    </div>
    <div id="paymentCode"></div>
  </div>

  <div id="scratchScreen">
    <h1>RASPE E GANHE COM A DSTREET</h1>
    <div class="grid" id="grid"></div>
    <p id="result"></p>
  </div>

  <script>
    let chances = 0;
    let clickCounts = { 5: 0, 10: 0, 20: 0 };

    function handlePaymentClick(value, givenChances) {
      // Mostrar c√≥digo de pagamento
      const pixKey = `Chave Pix para R$${value},00: pix@dstreet.com`;
      document.getElementById('paymentCode').innerText = pixKey;

      // Incrementar contador de clique
      clickCounts[value]++;

      // Verificar se clicou 5 vezes no mesmo bot√£o
      if (clickCounts[value] === 5) {
        chances = givenChances;
        document.getElementById("chances").innerText = `Chances restantes: ${chances}`;
        startGame();
      }
    }

    function startGame() {
      document.getElementById("homeScreen").style.display = "none";
      document.getElementById("scratchScreen").style.display = "block";
      document.getElementById("result").innerText = "";

      const emojis = ["üëï", "‚òπÔ∏è"];
      const grid = document.getElementById("grid");
      grid.innerHTML = "";

      const cells = [];
      for (let i = 0; i < 9; i++) {
        const cell = document.createElement("div");
        cell.className = "cell";
        cell.innerText = "";
        cell.onclick = () => reveal(cell);
        grid.appendChild(cell);
        cells.push(cell);
      }

      function reveal(cell) {
        if (chances <= 0 || cell.innerText !== "") return;

        const result = Math.random() < 0.4 ? emojis[0] : emojis[1];
        cell.innerText = result;
        chances--;
        document.getElementById("chances").innerText = `Chances restantes: ${chances}`;

        // Verificar se ganhou
        const all = cells.map(c => c.innerText);
        const shirtCount = all.filter(e => e === "üëï").length;
        if (shirtCount >= 3) {
          document.getElementById("result").innerText = "Parab√©ns! Voc√™ ganhou 10 CAMISAS!";
        } else if (chances === 0) {
          document.getElementById("result").innerText = "N√£o foi dessa vez. Tente novamente!";
        }
      }
    }
  </script>
</body>
</html>
