<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Raspadinha DSTREET</title>
  <style>
    body {
      margin: 0;
      background-color: #111;
      color: white;
      font-family: 'Arial Black', sans-serif;
      text-align: center;
    }

    .led-title {
      font-size: 2.5em;
      color: yellow;
      text-shadow: 0 0 20px yellow, 0 0 40px yellow;
      margin-top: 20px;
    }

    .blinking {
      color: white;
      font-size: 1.2em;
      animation: blink 1s infinite alternate;
      margin-top: 5px;
      text-shadow: 0 0 5px #fff;
    }

    @keyframes blink {
      0% { opacity: 1; }
      100% { opacity: 0.2; }
    }

    .chances {
      margin: 20px 0;
      font-size: 1.5em;
      font-weight: bold;
      color: #00ffcc;
      text-shadow: 0 0 10px #00ffcc;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(3, 100px);
      gap: 10px;
      justify-content: center;
      margin: 20px auto;
    }

    .cell {
      width: 100px;
      height: 100px;
      background-color: #222;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2em;
      cursor: pointer;
      border: 2px solid #555;
    }

    .cell.revealed {
      background-color: white;
      color: red;
    }

    .result {
      font-size: 1.5em;
      margin: 15px 0;
    }

    .payment-buttons button, .next-button {
      display: block;
      margin: 10px auto;
      padding: 15px 25px;
      font-size: 1em;
      font-weight: bold;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.3s ease;
    }

    .payment-buttons button {
      background-color: yellow;
      border: none;
    }

    .next-button {
      background-color: white;
      color: black;
      border: 2px solid #ddd;
      box-shadow: 0 0 10px white;
    }

    .rules {
      font-size: 1em;
      margin-top: 20px;
    }

  </style>
</head>
<body>

  <div class="led-title">DSTREET COMPANY</div>
  <div class="blinking">ACHE 3 FIGURAS IGUAIS E LEVE 10 CAMISETAS STREETWEAR</div>

  <div class="chances" id="chances">Chances restantes: 0</div>

  <div class="grid" id="grid"></div>

  <div class="result" id="resultText"></div>

  <div class="payment-buttons">
    <button onclick="comprar(1)">Pagar R$5,00 (1 chance)</button>
    <button onclick="comprar(3)">Pagar R$10,00 (3 chances)</button>
    <button onclick="comprar(6)">Pagar R$20,00 (6 chances)</button>
  </div>

  <button class="next-button" id="nextBtn" style="display:none;" onclick="novaTentativa()">PR√ìXIMA TENTATIVA</button>

  <div class="rules">
    <p>‚ùå‚ùå‚ùå = TENTE OUTRA VEZ</p>
    <p>üëïüëïüëï = üéäGANHOU 10 CAMISETASüéä</p>
  </div>

  <script>
    let chances = 0;
    let gridEl = document.getElementById('grid');
    let resultText = document.getElementById('resultText');
    let chancesEl = document.getElementById('chances');
    let nextBtn = document.getElementById('nextBtn');

    function comprar(qtd) {
      chances += qtd;
      atualizarChances();
      if (chances > 0 && gridEl.innerHTML === '') {
        gerarTabuleiro();
      }
    }

    function atualizarChances() {
      chancesEl.textContent = `Chances restantes: ${chances}`;
    }

    function gerarTabuleiro() {
      gridEl.innerHTML = '';
      resultText.textContent = '';
      nextBtn.style.display = 'none';

      let figuras = ['‚ùå', 'üëï'];
      let sorteio = Array.from({ length: 9 }, () =>
        figuras[Math.floor(Math.random() * figuras.length)]
      );

      sorteio.forEach((figura, index) => {
        let cell = document.createElement('div');
        cell.className = 'cell';
        cell.onclick = () => revelar(cell, figura);
        gridEl.appendChild(cell);
      });

      gridEl.dataset.figuras = JSON.stringify(sorteio);
    }

    function revelar(cell, figura) {
      if (cell.classList.contains('revealed') || chances === 0) return;

      cell.classList.add('revealed');
      cell.textContent = figura;

      let reveladas = document.querySelectorAll('.cell.revealed');
      if (reveladas.length === 3) {
        chances--;
        atualizarChances();

        let valores = [...reveladas].map(c => c.textContent);
        let ganhou = valores.every(v => v === valores[0]);

        setTimeout(() => {
          if (ganhou && valores[0] === 'üëï') {
            resultText.innerHTML = 'üéä GANHOU 10 CAMISETAS üéä';
          } else {
            resultText.innerHTML = '<span style="color:limegreen;">Tente novamente!</span>';
          }

          if (chances > 0) {
            nextBtn.style.display = 'block';
          }
        }, 400);
      }
    }

    function novaTentativa() {
      gridEl.innerHTML = '';
      resultText.textContent = '';
      nextBtn.style.display = 'none';
      setTimeout(() => {
        gerarTabuleiro();
      }, 100); // curto delay pra sumir visualmente
    }
  </script>

</body>
</html>

